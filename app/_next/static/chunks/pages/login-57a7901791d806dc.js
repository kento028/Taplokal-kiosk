(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3921:function(e,r,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return s(3297)}])},3297:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return m}});var o=s(4246),a=s(8579),l=s.n(a),t=s(3296),n=s(2696);s(7378);var u=s(5332),d=s(156),i=s(3662),c=()=>{let e=(0,i.useRouter)(),r=async r=>{r.preventDefault();let s=r.currentTarget.email.value,o=r.currentTarget.password.value;try{let r=(await (0,t.e5)(d.I8,s,o)).user,a=await (0,n.QT)((0,n.JU)(d.fs,"users",r.uid));a.exists()&&"kiosk"===a.data().role?(u.ZP.success("Logged in successfully!"),localStorage.setItem("branch",a.data().branch),e.push("/home")):(d.I8.signOut(),u.ZP.error("You are not authorized to login as kiosk"))}catch(e){console.log(e),"auth/invalid-credential"===e.code?u.ZP.error("Invalid email or password"):(d.I8.signOut(),u.ZP.error("An error occurred. Please try again later"))}};return(0,o.jsxs)("form",{onSubmit:r,className:"w-full max-w-md mx-auto p-8 shadow-md rounded-lg text-black bg-white",children:[(0,o.jsx)("h2",{className:"text-2xl font-semibold mb-6 text-center uppercase",children:"Kiosk"}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("label",{htmlFor:"email",className:"block text-base font-medium",children:"Email"}),(0,o.jsx)("input",{type:"email",name:"email",id:"email",required:!0,className:"mt-1 p-2 block w-full border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your email"})]}),(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsx)("label",{htmlFor:"password",className:"block text-base font-medium",children:"Password"}),(0,o.jsx)("input",{type:"password",name:"password",id:"password",required:!0,className:"mt-1 p-2 block w-full border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your password"})]}),(0,o.jsx)("button",{type:"submit",className:"w-full bg-foreground text-background py-2 px-4 rounded-md hover:bg-foreground/70",children:"Login"})]})},m=()=>(0,o.jsxs)("div",{className:"fixed inset-0 top-0 left-0 w-full flex flex-col items-center justify-center h-screen bg-foreground",children:[(0,o.jsx)(l(),{src:"/images/icon.png",alt:"logo",width:180,height:180,className:"absolute top-0 left-0 p-4 drop-shadow-lg"}),(0,o.jsx)(c,{})]})}},function(e){e.O(0,[888,774,179],function(){return e(e.s=3921)}),_N_E=e.O()}]);